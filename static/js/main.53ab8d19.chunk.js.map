{"version":3,"sources":["utils/buttons.js","components/Keypad.js","components/Calculator.js","App.js","store/index.js","index.js","store/calculator.js"],"names":["buttons","name","value","type","Keypad","dispatch","useDispatch","className","map","id","key","onClick","calculate","Calculator","expression","useSelector","store","calculator","App","configureStore","reducer","ReactDOM","render","StrictMode","document","getElementById","calculatorSlice","createSlice","initialState","reducers","setExpression","state","action","payload","actions","getState","isOperator","match","expTrailingOperators","expEndsWithMinus","charAt","length","nextExpression","replace","toString","formattedExpression","removeTrailingDot","result","eval"],"mappings":"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","file":"static/js/main.53ab8d19.chunk.js","sourcesContent":["const buttons = [\r\n  { name: 'divide', value: '/', type: 'is-info' },\r\n  { name: 'multiply', value: '*', type: 'is-info' },\r\n  { name: 'subtract', value: '-', type: 'is-info' },\r\n  { name: 'add', value: '+', type: 'is-info' },\r\n  { name: 'one', value: '1' },\r\n  { name: 'two', value: '2' },\r\n  { name: 'three', value: '3' },\r\n  { name: 'four', value: '4' },\r\n  { name: 'five', value: '5' },\r\n  { name: 'six', value: '6' },\r\n  { name: 'seven', value: '7' },\r\n  { name: 'eight', value: '8' },\r\n  { name: 'nine', value: '9' },\r\n  { name: 'zero', value: '0' },\r\n  { name: 'decimal', value: '.' },\r\n  { name: 'equals', value: '=', type: 'is-success' },\r\n  { name: 'clear', value: 'AC', type: 'is-danger' },\r\n];\r\n\r\nexport default buttons;\r\n","import React from 'react';\r\nimport '../assets/keypad.css';\r\nimport { useDispatch } from 'react-redux';\r\nimport { calculate } from '../store/calculator';\r\nimport buttons from '../utils/buttons';\r\n\r\nconst Keypad = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className=\"keypad-grid\">\r\n      {buttons.map(({ name, value, type }) => {\r\n        return (\r\n          <button\r\n            id={name}\r\n            className={`button ${type || 'is-warning'}`}\r\n            key={value}\r\n            value={value}\r\n            onClick={() => dispatch(calculate(value))}\r\n          >\r\n            {value}\r\n          </button>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Keypad;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport Keypad from './Keypad';\r\n\r\nexport function Calculator() {\r\n  const { expression } = useSelector(store => store.calculator);\r\n\r\n  return (\r\n    <div className=\"calculator\">\r\n      <div className=\"display-wrapper\">\r\n        <div id=\"display\">{expression}</div>\r\n      </div>\r\n      <Keypad />\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Calculator } from './components/Calculator';\r\n\r\nconst App = () => {\r\n  return (\r\n    <div className=\"App\">\r\n      <Calculator />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport calculator from './calculator';\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    calculator,\r\n  },\r\n});\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './assets/index.css';\r\nimport App from './App';\r\nimport store from './store';\r\nimport { Provider } from 'react-redux';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const calculatorSlice = createSlice({\r\n  name: 'calculator',\r\n  initialState: {\r\n    expression: '0',\r\n  },\r\n  reducers: {\r\n    setExpression(state, action) {\r\n      state.expression = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nconst { setExpression } = calculatorSlice.actions;\r\n\r\nexport const calculate = value => (dispatch, getState) => {\r\n  const { expression } = getState().calculator;\r\n\r\n  const isOperator = value.match(/[+\\-*/]/g);\r\n  const expTrailingOperators = expression.match(/[+\\-*/]+$/g)?.[0];\r\n  const expEndsWithMinus = expression.charAt(expression.length - 1) === '-';\r\n\r\n  if (expTrailingOperators?.length === 2 && expEndsWithMinus && isOperator) {\r\n    if (value === '-') return;\r\n    const nextExpression = expression.replace(/.{2}$/, value);\r\n    return dispatch(setExpression(nextExpression));\r\n  }\r\n\r\n  if (expression === '0') {\r\n    if (value === '0' || value.match(/[+/*]/g)) return;\r\n  }\r\n\r\n  if (value === '-' && expression === '-') return;\r\n\r\n  if (value === '.') {\r\n    if (expression === '0') return dispatch(setExpression('0.'));\r\n    if (expression.match(/\\.\\d+$|\\.$/g)) return;\r\n  }\r\n\r\n  if (value.match(/[+-/*]/gi) && expression.match(/[+-/*]$/g)) {\r\n    if (value !== '-' && expression.match(/[+/*]-$/g)) {\r\n      return dispatch(setExpression(expression.replace(/.{2}$/, value)));\r\n    }\r\n    if (value === '-' && expression.match(/[+/*-]$/g)) {\r\n      return dispatch(setExpression(expression + '-'));\r\n    }\r\n    return dispatch(setExpression(expression.replace(/.$/, value)));\r\n  }\r\n\r\n  if (value === 'AC') {\r\n    return dispatch(setExpression('0'));\r\n  }\r\n\r\n  let nextExpression;\r\n\r\n  if (expression === '0') {\r\n    nextExpression = value.toString();\r\n  } else {\r\n    nextExpression = expression + value.toString();\r\n  }\r\n\r\n  if (value === '=') {\r\n    const formattedExpression = removeTrailingDot(expression).replace(\r\n      '--',\r\n      '- -'\r\n    );\r\n    // eslint-disable-next-line no-eval\r\n    const result = eval(formattedExpression).toString();\r\n    return dispatch(setExpression(result));\r\n  }\r\n  dispatch(setExpression(nextExpression));\r\n};\r\n\r\nconst removeTrailingDot = expression => {\r\n  if (expression.match(/[+-/*]$/gi)) {\r\n    return removeTrailingDot(expression.replace(/.$/, ''));\r\n  }\r\n  return expression;\r\n};\r\n\r\nexport default calculatorSlice.reducer;\r\n"],"sourceRoot":""}